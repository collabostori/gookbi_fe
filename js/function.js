var gb={controller:{},util:{}};gb.controller.common=function(i){const e=$(window);navigator.userAgent.match(/Trident\/7\./)&&$("body").on("mousewheel",function(){event.preventDefault();var e=event.wheelDelta,n=window.pageYOffset;window.scrollTo(0,n-e)});const o=$("[data-trigger]").get(),r=$("body");function n(){for(var e=o.length-1;-1<e;e--){var n=o[e].getAttribute("data-trigger"),t=o[e].getBoundingClientRect().top-(i?45:90)<=0;if("fix-header"===n&&t){r.addClass("fix-header");break}if("light"===n&&t){r.removeClass("fix-header");break}r.removeClass("fix-header")}}o[0]&&"fix-header"===o[0].getAttribute("data-trigger")&&o[0].getBoundingClientRect().top<=0&&r.addClass("fix-header"),e.on("scroll",n),e.on("load resize",function(){e.off("scroll",n),e.on("scroll",n)}),$("[data-layer-btn]").on("click",function(e){e.preventDefault();e=$(this).attr("href");e&&$(e).addClass("on")}),$("[data-layer-close").on("click",function(){$(this).closest(".layer").removeClass("on")}),$(".toggle-menu").on("click",function(e){$("body").toggleClass("open-menu")}),$(".main-header").on("click",function(e){$(e.target).hasClass("main-header")&&$("body").removeClass("open-menu")})},gb.controller.company=function(e){$(".best-swiper .list-item").length>(e?1:3)?new Swiper(".best-swiper",{containerModifierClass:"section-swiper",wrapperClass:"list-type-1-1",slideClass:"list-item",slidesPerView:3,simulateTouch:!1,loop:!0,speed:1e3,navigation:{nextEl:".best-swiper .btn-next",prevEl:".best-swiper .btn-prev"},breakpoints:{640:{slidesPerView:1}}}):$(".best-swiper .nav").hide()},gb.controller.course=function(e){$(".premium-swiper .list-item").length>(e?1:3)?new Swiper(".premium-swiper",{containerModifierClass:"section-swiper",wrapperClass:"list-type-1",slideClass:"list-item",slidesPerView:3,simulateTouch:!1,loop:!0,speed:1e3,navigation:{nextEl:".premium-swiper .btn-next",prevEl:".premium-swiper .btn-prev"},breakpoints:{640:{slidesPerView:1}}}):$(".premium-swiper .nav").hide(),$(".grand-swiper .list-type-2 li").length>(e?2:4)?new ListSlider({el:".list-slide-container",prevBtn:".grand-swiper .btn-prev",nextBtn:".grand-swiper .btn-next",loop:!0}):$(".grand-swiper .nav").hide()},gb.controller.courseDetail=function(){const n=$(".btn-tab a"),t=n.get().map(function(e){e=$(e).attr("href");return $(e).offset().top-200});n.on("click",function(){var e=n.index(this);$("html, body").stop().animate({scrollTop:t[e]},300)}),$(window).on("scroll",function(){for(let e=t.length;-1<e;e--)if($(this).scrollTop()>t[e]-1){n.removeClass("on"),n.eq(e).addClass("on");break}}),$("[data-share-btn]").on("click",function(){$(".share-box").toggleClass("on")})},gb.controller.cs=function(){$(".faq-list").on("click","dt",function(){const e=$(this),n=e.parent();n.hasClass("on")?n.removeClass("on"):($(".faq-item").removeClass("on"),n.addClass("on"))})},gb.controller.main=function(e){const n=new Swiper(".section-hero .bg-swiper",{effect:"fade",speed:400}),t=new Swiper(".section-hero .content-swiper",{effect:"fade",fadeEffect:{crossFade:!0},speed:400,autoplay:{delay:5e3,disableOnInteraction:!1},loop:!0,pagination:{el:".content-page .paging",type:"custom",renderCustom:function(e,n,t){return n+'<span class="progress"><span class="bar"></span></span>'+(t<n+1?1:n+1)+'<span class="divide">/</span>'+t}},on:{slideChange:function(){n.slideTo(this.realIndex)}}});function o(e,n){var t=n.naturalWidth,i=n.naturalHeight,o=e.offsetWidth/t,e=e.offsetHeight/i,e=Math.max(o,e);n.width=t*e,n.height=i*e}function i(){for(var t=document.querySelectorAll(".premium-course .thumb"),i=0;i<t.length;i++)!function(){var e=t[i],n=e.querySelector("img");n.onload=function(){o(e,n)},o(e,n)}()}$(".content-swiper .toggle-play").on("click",function(){t.autoplay.running?($(".content-page").addClass("pause"),t.autoplay.stop()):($(".content-page").removeClass("pause"),t.autoplay.start())}),function(){const t=$(document.createDocumentFragment()),i=$(".premium-course .swiper-slide");for(let n=0;n<5;n++){let e=n<3?i.clone():i.clone().get().reverse();e=$(e),e.wrapAll('<div class="swiper-block"><div class="swiper-container"><div class="swiper-wrapper"></div></div></div>'),e=e.closest(".swiper-block"),0===n&&e.addClass("swiper-top"),t.append(e)}i.remove(),$(".premium-course .course-swiper").append(t)}(),i(),function(){const t=[],e=$(".premium-course .list-next"),n=$(".premium-course .list-prev");$(".course-swiper .swiper-container").each(function(e,n){t.push(new Swiper(n,{initialSlide:e<3?e:4-e,loop:!0,simulateTouch:!1,speed:1e3,controller:{inverse:!0}}))}),e.on("click",function(){t.forEach(function(e,n){n<3?e.slideNext():e.slidePrev()})}),n.on("click",function(){t.forEach(function(e,n){n<3?e.slidePrev():e.slideNext()})})}(),$(window).on("resize",i),$(".grand-course .list-type-2 li").length>(e?2:4)?new ListSlider({el:".list-slide-container",prevBtn:".grand-course .list-prev",nextBtn:".grand-course .list-next",loop:!0}):$(".grand-course .list-nav").hide();let r;function s(){1400<window.innerWidth?r=r||new Sticky(".course-wrapper .control"):(r&&r.destroy(),r=null,$(".course-wrapper .control").removeAttr("style"))}s(),$(window).on("resize",s)},gb.controller.search=function(e){new Swiper(".section-swiper",{containerModifierClass:"section-swiper",wrapperClass:"list-type-1",slideClass:"list-item",slidesPerView:3,simulateTouch:!1,loop:!0,speed:1e3,navigation:{nextEl:".section-swiper .btn-next",prevEl:".section-swiper .btn-prev"},breakpoints:{640:{slidesPerView:1}}})},$(function(){const e=$("body"),n=e.attr("data-controller"),t=window.innerWidth<800;gb.controller.common(t),n&&n.split(" ").forEach(function(e){e=e.replace(/([-_]\w)/g,e=>e[1].toUpperCase());gb.controller[e]&&gb.controller[e](t)})});